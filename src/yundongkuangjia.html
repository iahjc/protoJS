<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<style>
			*{margin:0; padding: 0}
			body{ width: 100%; height: 100%; overflow: hidden; }
			#wrapper{ width:200px; height:200px; position: absolute;
				left:200px; top:100px;
				background: black;
			} 

			
		</style>
	</head>
	
	<body>

	<div id="wrapper">
		
	</div>

	</body>
</html>

<script>

function startMove(obj,json,times,fx,fn){
	var iCur = {};

	for(var attr in json){
		iCur[attr] = 0;

		if(attr == 'opacity'){
			iCur[attr] = Math.round(getStyle(obj,attr)*100);
		}else{
			iCur[attr] = parsetInt(getStyle(obj,attr));
		}
	}

	 var startTime = now();
	clearInterval(obj.timer);

	obj.timer = setInterval(function(){

		var changeTime = now();

		var t = times - Math.max(0,startTime - changeTime + times);

		for(var attr in json){
			var value = Tween[fx](t,iCur[attr],json[attr]-iCur[attr],times);

			if(attr == 'opacity'){
				obj.style.opacity = value/100;
				obj.style.filter = 'alpha(opacity='+value+')';
			}else{	
				obj.style[attr] = value +"px";
			}
		}

		if(t == times){
			clearInterval(obj.timer);
			if(fn){
				fn.call(obj);
			}
		}
	},13);

}

function getStyle(obj,attr){
	if(obj.currentStyle){
		return obj.currentStyle[attr];
	}else{
		return getComputedStyle(obj,false)[attr];
	}
}

function now(){
	return new Date().getTime();
}

</script>