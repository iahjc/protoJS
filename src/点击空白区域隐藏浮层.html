<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{ margin:0; padding:0;}
			body{ height:2000px;}
			.mask{ width:100%; height:100%; position:fixed; top:0; left:0; background-color:#000; opacity:.7; display:none;}
			.msg{ width:300px; height:300px; background:#fff; position:fixed; top:50%; left:50%;
				-webkit-transform:translate(-50%,-50%);
				-moz-transform:translate(-50%,-50%);
				-o-transform:translate(-50%,-50%);
				-ms-transform:translate(-50%,-50%);
				transform:translate(-50%,-50%);
				display:none;
			}
		</style>
	</head>
	<body>
		<a href="javascript:;" style="padding-top:1000px; display:inline-block;">注册</a> <a href="javascript:;">登陆</a>
		<div class="mask"></div>
		<div class="msg" id="msg"></div>
	</body>
</html>

<script>
	function loadJs(source,callback){
		var _js = document.createElement("script");
		_js.src = source;
		document.head.appendChild(_js);
		_js.onload = function(){
			callback();
		}
	}

	loadJs("alinec.js",function(){
		var _register = document.querySelector("a");
		_register.addEventListener("click",function(event){
			var event = $.clearBubble(event);
			
			document.querySelector(".mask").style.display = "block";
			document.querySelector(".msg").style.display = "block";	
			document.body.style.overflow = "hidden";

		},false);

/*
		document.querySelector(".mask").addEventListener("click",function(event){
			var event = event || window.event;
			document.querySelector(".mask").style.display = "none";
			document.querySelector(".msg").style.display = "none";			
			document.body.style.overflow = "visible";
		},false);
*/


		//另一种写法
		document.addEventListener("click",function(event){
			
			
		var targetId = $.getTargetId(event);
		if(targetId != 'msg'){
			document.querySelector(".mask").style.display = "none";
			document.querySelector(".msg").style.display = "none";			
			document.body.style.overflow = "visible";
		}


		},false)
	});


</script>